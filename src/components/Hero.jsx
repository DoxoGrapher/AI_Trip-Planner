import React, { useEffect } from 'react';
import landingVideo from '/landingVideo.mp4';
import { motion } from 'framer-motion';
import { StaggeredFade } from '../animations/StaggeredEffect';
import '../styles/style.css';
import gsap from 'gsap';



function Hero() {

  useEffect(() => {
    requestAnimationFrame(() => {
      const tl = gsap.timeline({ defaults: { ease: "power4.out", duration: 0.7 } });
      const isMobile = window.innerWidth < 768;


      gsap.set("#landingSVG g", {
        autoAlpha: 1,
      });
  
      gsap.to("#landingSVG", {
        scale: window.innerWidth < 768 ? 1.1 : 1.5,
        transformOrigin: "center",
        duration: 2,
      });
      
      gsap.set('.WeWillPlanIt', {
        xPercent: -20,
      })


      tl
      
      .fromTo('#JustTellUs\\. path', {
        yPercent: -200,
        skewX : 30,
        skewY : 60,
        scaleY: 0.8,
        opacity: 0
      }, {
        yPercent: 0,
        xPercent: 0,
        skewX: 0,
        skewY: 0,
        scaleY: 1,
        stagger: 0.02,
        opacity: 1,
      })

      .fromTo('.WeWillPlanIt path', {
        yPercent: 200,
        skewX : 30,
        skewY : 60,
        scaleY: 0.8,
        opacity: 0
      }, 
      {
        yPercent: 0,
        xPercent: 0,
        skewX: 0,
        skewY: 0,
        scaleY: 1,
        stagger: 0.03,
        opacity: 1,
      },"-=0.7")

      .to('.WeWillPlanIt', {
        xPercent: 0,
        ease: "elastic.out(1, 0.5)",
      })

      .fromTo('.Plane' , {
        xPercent:-200,
        opacity: 0,
        ease: "elastic.out(1, 0.5)",
      },{
        xPercent:15,
        opacity: 1,
      },"-=0.7")

      .to('#JustTellUs\\. path' , {
        skewX : 30,
        x : 30,
        scaleX : 0,
        stagger : 0.03,
        opacity : 0,
        duration : 0.02,
      },"+=0.05")

      .to('.WeWillPlanIt' , {
        skewX : 30,
        x : 30,
        scaleX : 0,
        stagger : 0.03,
        opacity : 0,
        duration : 0.02,
      },"<")

      .to('.Plane' , {
        xPercent: 200,
        opacity: 1,
        duration: 0.5,
        ease: "elastic.out(1, 0.5)",
      },"+=0.1")

      .to('.Plane' , {
        rotateZ: -90,
        transformOrigin: "center",
      },"-=0.5")

      .to('.Plane' , {
        yPercent: 450,
        duration: 1.3
      },"-=0.5")

      .to('.Plane' , {
        yPercent: isMobile ? -900 : -3200,
        ease: "back.in(1)",
        duration: 0.3
      },"-=0.3")

      .to('.reveal' , {
        scaleY: 0,
        transformOrigin: "top",
        duration: 0.5
      },"+=0.05")

    });
  }, []);
  
  

  return (
    <div className='md:w-full relative'>

    <div className='absolute top-0 left-0 w-full h-screen flex justify-center items-center'>
      <svg 
      id='landingSVG'
      className="w-[90vw] max-w-[485px] h-auto"
      viewBox="0 0 485 111"
      fill="none"
      xmlns="http://www.w3.org/2000/svg">
        <g id="Group 2">
        <g id="JustTellUs.">
        <path id="Vector" d="M349.727 37.4616C348.555 37.4616 347.549 37.0473 346.708 36.2187C345.88 35.3782 345.465 34.3721 345.465 33.2002C345.465 32.0401 345.88 31.0458 346.708 30.2172C347.549 29.3886 348.555 28.9743 349.727 28.9743C350.863 28.9743 351.857 29.3886 352.71 30.2172C353.562 31.0458 353.988 32.0401 353.988 33.2002C353.988 33.9814 353.787 34.6976 353.384 35.3486C352.994 35.9878 352.479 36.5027 351.84 36.8934C351.2 37.2722 350.496 37.4616 349.727 37.4616Z" fill="white"/>
        <path id="Vector_2" d="M340.276 17.3444C340.134 15.9121 331.659 8.54938 330.582 7.75629C329.504 6.9632 328.043 6.56666 326.196 6.56666C324.941 6.56666 323.882 6.74421 323.018 7.09933C322.154 7.44261 321.491 7.92201 321.029 8.53754C320.579 9.15307 320.354 9.85146 320.354 10.6327C320.331 11.2838 320.467 11.8519 320.763 12.3373C321.071 12.8226 321.491 13.2428 322.023 13.5979C322.556 13.9412 323.172 14.243 323.87 14.5034C324.568 14.752 325.314 14.9651 326.107 15.1427L329.374 15.9239C330.96 16.279 332.416 16.7525 333.742 17.3444C335.068 17.9362 336.216 18.6642 337.187 19.5283C338.157 20.3924 338.909 21.4104 339.442 22.5823C339.986 23.7542 340.264 25.0977 340.276 26.6128C340.264 28.8382 339.696 30.7677 338.572 32.4012C337.459 34.0229 335.849 35.2835 333.742 36.1831C331.647 37.0709 329.12 37.5148 326.161 37.5148C323.225 37.5148 320.668 37.065 318.49 36.1654C316.324 35.2658 314.631 33.9341 313.412 32.1704C312.205 30.3948 311.571 28.199 311.512 25.583H318.952C319.035 26.8022 319.384 27.8202 319.999 28.637C320.627 29.4419 321.461 30.0515 322.503 30.4658C323.556 30.8683 324.746 31.0695 326.072 31.0695C327.374 31.0695 328.504 30.8801 329.463 30.5013C330.434 30.1225 331.185 29.5958 331.718 28.9211C332.251 28.2463 332.517 27.471 332.517 26.5951C332.517 25.7783 332.274 25.0918 331.789 24.5354C331.316 23.9791 330.617 23.5056 329.694 23.115C328.782 22.7243 327.664 22.3692 326.338 22.0496L322.379 21.0553C319.313 20.3096 316.892 19.1436 315.116 17.5574C313.341 15.9712 312.459 13.8346 312.471 11.1476C312.459 8.94592 313.045 7.02239 314.229 5.37703C315.424 3.73167 317.064 2.44734 319.147 1.52404C321.23 0.600747 323.598 0.139099 326.249 0.139099C328.948 0.139099 331.304 0.600747 333.316 1.52404C335.34 2.44734 336.915 3.73167 338.039 5.37703C339.164 7.02239 339.744 8.92816 339.779 11.0944L340.276 17.3444Z" fill="white"/>
        <path id="Vector_3" d="M298.67 0.636261H306.358V24.2513C306.358 26.9028 305.725 29.2229 304.459 31.2115C303.204 33.2002 301.446 34.7508 299.185 35.8635C296.924 36.9644 294.291 37.5148 291.284 37.5148C288.265 37.5148 285.626 36.9644 283.365 35.8635C281.104 34.7508 279.346 33.2002 278.091 31.2115C276.837 29.2229 276.209 26.9028 276.209 24.2513V0.636261H283.898V23.5944C283.898 24.9793 284.199 26.2104 284.803 27.2875C285.419 28.3647 286.283 29.2111 287.395 29.8266C288.508 30.4421 289.804 30.7499 291.284 30.7499C292.775 30.7499 294.072 30.4421 295.172 29.8266C296.285 29.2111 297.143 28.3647 297.747 27.2875C298.363 26.2104 298.67 24.9793 298.67 23.5944V0.636261Z" fill="white"/>
        <path id="Vector_4" d="M236.268 36.9999V0.636261H243.956V30.6611H259.546V36.9999H236.268Z" fill="white"/>
        <path id="Vector_5" d="M207.899 37V0.636353H215.587V30.6612H231.176V37H207.899Z" fill="white"/>
        <path id="Vector_6" d="M177.284 36.9999V0.636261H201.786V6.97504H184.972V15.6398H200.526V21.9786H184.972V30.6611H201.857V36.9999H177.284Z" fill="white"/>
        <path id="Vector_7" d="M142.5 6.97504V0.636261H172.365V6.97504H161.232V42.9999L153.633 36.9999V6.97504H142.5Z" fill="white"/>
        <path id="Vector_8" d="M97.5295 6.97504V0.636261H127.395V6.97504H116.262V36.9999L108.662 43.4999V6.97504H97.5295Z" fill="white"/>
        <path id="Vector_9" d="M85.8773 11.0944C85.7353 9.66206 85.1257 8.54938 84.0485 7.75629C82.9713 6.9632 81.5094 6.56666 79.6628 6.56666C78.4081 6.56666 77.3487 6.74421 76.4846 7.09933C75.6204 7.44261 74.9576 7.92201 74.4959 8.53754C74.0461 9.15307 73.8212 9.85146 73.8212 10.6327C73.7975 11.2838 73.9337 11.8519 74.2296 12.3373C74.5374 12.8226 74.9576 13.2428 75.4902 13.5979C76.0229 13.9412 76.6384 14.243 77.3368 14.5034C78.0352 14.752 78.781 14.9651 79.5741 15.1427L82.8411 15.9239C84.4273 16.279 85.8832 16.7525 87.209 17.3444C88.5347 17.9362 89.683 18.6642 90.6536 19.5283C91.6242 20.3924 92.3759 21.4104 92.9086 22.5823C93.4531 23.7542 93.7312 25.0977 93.7431 26.6128C93.7312 28.8382 93.1631 30.7677 92.0385 32.4012C90.9258 34.0229 89.316 35.2835 87.209 36.1831C85.1138 37.0709 82.5866 37.5148 79.6273 37.5148C76.6917 37.5148 74.1349 37.065 71.9569 36.1654C69.7907 35.2658 68.098 33.9341 66.8787 32.1704C65.6714 30.3948 65.0381 28.199 64.9789 25.583H72.4185C72.5014 26.8022 72.8506 27.8202 73.4661 28.637C74.0935 29.4419 74.928 30.0515 75.9696 30.4658C77.0231 30.8683 78.2128 31.0695 79.5385 31.0695C80.8406 31.0695 81.9711 30.8801 82.9299 30.5013C83.9005 30.1225 84.6522 29.5958 85.1848 28.9211C85.7175 28.2463 85.9838 27.471 85.9838 26.5951C85.9838 25.7783 85.7412 25.0918 85.2559 24.5354C84.7824 23.9791 84.084 23.5056 83.1607 23.115C82.2492 22.7243 81.1306 22.3692 79.8049 22.0496L75.8454 21.0553C72.7795 20.3096 70.3589 19.1436 68.5833 17.5574C66.8077 15.9712 65.9258 13.8346 65.9377 11.1476C65.9258 8.94592 66.5118 7.02239 67.6955 5.37703C68.891 3.73167 70.5305 2.44734 72.6138 1.52404C74.6972 0.600747 77.0646 0.139099 79.7161 0.139099C82.415 0.139099 84.7705 0.600747 86.7829 1.52404C88.807 2.44734 90.3813 3.73167 91.5059 5.37703C92.6304 7.02239 93.2104 8.92816 93.2459 11.0944H85.8773Z" fill="white"/>
        <path id="Vector_10" d="M52.1371 0.636261H59.8253V24.2513C59.8253 26.9028 59.192 29.2229 57.9254 31.2115C56.6707 33.2002 54.9129 34.7508 52.652 35.8635C50.3911 36.9644 47.7573 37.5148 44.7507 37.5148C41.7322 37.5148 39.0926 36.9644 36.8317 35.8635C34.5708 34.7508 32.813 33.2002 31.5582 31.2115C30.3035 29.2229 29.6761 26.9028 29.6761 24.2513V0.636261H37.3643V23.5944C37.3643 24.9793 37.6662 26.2104 38.2699 27.2875C38.8854 28.3647 39.7495 29.2111 40.8622 29.8266C41.9749 30.4421 43.2711 30.7499 44.7507 30.7499C46.2422 30.7499 47.5383 30.4421 48.6392 29.8266C49.7519 29.2111 50.6101 28.3647 51.2138 27.2875C51.8293 26.2104 52.1371 24.9793 52.1371 23.5944V0.636261Z" fill="white"/>
        <path id="Vector_11" d="M16.5485 0.999908H24.1479V26.355C24.1479 28.6988 23.6212 30.7348 22.5677 32.463C21.526 34.1912 20.076 35.5229 18.2175 36.458C16.3591 37.3931 14.1988 37.8607 11.7367 37.8607C9.54684 37.8607 7.5582 37.476 5.7708 36.7066C3.99523 35.9253 2.58661 34.7416 1.54494 33.1554C0.503277 31.5574 -0.0116376 29.551 0.000199502 27.1363L4 20.5L7.5 27.5C7.52367 28.4588 8.23884 29.6043 8.23884 29.6043C8.61762 30.279 9.13254 30.7999 9.78358 31.1668C10.4465 31.5219 11.2277 31.6995 12.1273 31.6995C13.0743 31.6995 13.8733 31.4983 14.5243 31.0958C15.1872 30.6815 15.6903 30.0778 16.0336 29.2847C16.3769 28.4916 16.5485 27.5151 16.5485 26.355V0.999908Z" fill="white"/>
        </g>
        <g className="WeWillPlanIt">
        <path id="Vector_12" d="M475.044 60.6364V74.4503L472.5 77.5L469.646 74.4503V60.6364H475.044ZM484.223 60.6364V74.4503L482 77.5L478.826 74.4503V60.6364H484.223Z" fill="white"/>
        <path id="Vector_13" d="M464.737 97.4616C463.565 97.4616 462.558 97.0473 461.718 96.2187C460.889 95.3783 460.475 94.3722 460.475 93.2003C460.475 92.0402 460.889 91.0459 461.718 90.2173C462.558 89.3887 463.565 88.9744 464.737 88.9744C465.873 88.9744 466.867 89.3887 467.719 90.2173C468.572 91.0459 468.998 92.0402 468.998 93.2003C468.998 93.9815 468.797 94.6977 468.394 95.3487C468.004 95.9879 467.489 96.5028 466.849 96.8935C466.21 97.2723 465.506 97.4616 464.737 97.4616Z" fill="white"/>
        <path id="Vector_14" d="M427.383 66.9751V60.6364H457.248V66.9751H446.115V97H438.516V66.9751H427.383Z" fill="white"/>
        <path id="Vector_15" d="M422.442 60.6364V97H414.754V60.6364H422.442Z" fill="white"/>
        <path id="Vector_16" d="M396.83 60.6364V97H390.189L374.369 74.1129H374.103V97H366.414V60.6364H373.162L388.858 83.5057H389.177V60.6364H396.83Z" fill="white"/>
        <path id="Vector_17" d="M335.28 97H327.041L339.594 60.6364H349.502L362.038 97H353.799L344.69 68.946H344.406L335.28 97ZM334.765 82.7067H354.225V88.7081H334.765V82.7067Z" fill="white"/>
        <path id="Vector_18" d="M299.715 97V60.6364H307.403V90.6612H322.993V97H299.715Z" fill="white"/>
        <path id="Vector_19" d="M267.342 97V60.6364H281.689C284.447 60.6364 286.796 61.1631 288.738 62.2166C290.679 63.2583 292.159 64.7083 293.177 66.5667C294.206 68.4133 294.721 70.544 294.721 72.9588C294.721 75.3736 294.201 77.5043 293.159 79.3508C292.117 81.1974 290.608 82.6356 288.631 83.6655C286.666 84.6953 284.287 85.2102 281.493 85.2102H272.349V79.049H280.251C281.73 79.049 282.949 78.7945 283.908 78.2855C284.879 77.7647 285.601 77.0485 286.074 76.1371C286.56 75.2138 286.802 74.1543 286.802 72.9588C286.802 71.7514 286.56 70.6979 286.074 69.7983C285.601 68.8868 284.879 68.1825 283.908 67.6854C282.938 67.1764 281.706 66.9219 280.215 66.9219H275.03V97H267.342Z" fill="white"/>
        <path id="Vector_20" d="M227.401 97V60.6364H235.089V90.6612H250.678V97H227.401Z" fill="white"/>
        <path id="Vector_21" d="M199.032 97V60.6364H206.72V90.6612H222.309V97H199.032Z" fill="white"/>
        <path id="Vector_22" d="M193.305 60.6364V74.4503L190.5 77L187.908 74.4503V60.6364H193.305Z" fill="white"/>
        <path id="Vector_23" d="M157.967 97V60.6364H182.47V66.9751H165.655V75.6399H181.209V81.9787H165.655V90.6612H182.541V97H157.967Z" fill="white"/>
        <path id="Vector_24" d="M114.346 97L103.941 60.6364H112.339L118.359 85.9027H118.661L125.301 60.6364H132.492L139.115 85.956H139.435L145.454 60.6364H153.852L143.447 97H135.955L129.03 73.2251H128.746L121.839 97H114.346Z" fill="white"/>
        </g>
        <g className="Plane">
        <path id="Vector_25" d="M41.7208 110.882C43.755 110.834 45.5861 109.955 46.4751 108.604L60.3677 84.3609C80.7416 84.3322 94.7895 82.6709 94.7895 79.0001C94.7895 75.3294 80.7416 73.668 60.3677 73.6395L46.4753 49.3959C45.5861 48.0431 43.755 47.1662 41.7208 47.1176L36.9004 47.001C36.1717 46.9832 35.4711 47.2081 34.9901 47.6156C34.5094 48.0232 34.2994 48.5652 34.4184 49.0962C34.4184 49.0962 38.6107 68.056 39.9607 73.8509C24.5827 74.0821 16.0309 74.3532 16.0309 74.3532L11.4997 67.9392C11.0535 67.1835 9.96112 66.6877 8.74331 66.6877H6.96863C6.15376 66.6877 5.37393 66.9104 4.81368 67.307C4.25362 67.7014 3.96262 68.2324 4.00893 68.7745L4.6965 76.8782C1.98975 77.1382 0 77.9887 0 79.0001C0 80.0115 1.98975 80.8597 4.6965 81.122L4.00893 89.226C3.96281 89.768 4.25362 90.299 4.81368 90.6932C5.37393 91.09 6.15394 91.3125 6.96863 91.3125H8.74331C9.96112 91.3125 11.0535 90.8167 11.4997 90.061L16.0309 83.6449C16.0309 83.6449 24.5827 83.9181 39.9607 84.1495C38.6107 89.9442 34.4184 108.904 34.4184 108.904C34.2994 109.435 34.5094 109.979 34.9901 110.385C35.4711 110.792 36.1717 111.015 36.9004 110.999L41.7208 110.882Z" fill="white"/>
        </g>
        </g>
      </svg>
      <div className="reveal"></div>
    </div>



      <div className='relative'>
        {/* Video Background */}
        <video className='md:w-full h-[500px] md:h-screen object-cover' src={landingVideo} autoPlay loop muted playsInline />

        {/* Centered Text */}
        <div className='absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full flex flex-col items-center md:space-y-10 space-y-5 text-center'>
          <StaggeredFade text="Your Next Journey,Optimized" className='select-none tracking-wider w-full text-white font-sans text-center md:text-8xl font-extrabold text-3xl' />
          
          <p className='text-white/75 select-none hidden md:block md:text-xl text-xs md:px-0 px-10'>
            Build, personalize, and optimize your itineraries with our free AI trip planner. Designed for vacations, workations, and everyday adventures.
          </p>
          <p className='text-white/75 select-none md:hidden block md:text-xl text-xs md:px-0 px-10'>
            Build, personalize, and optimize your itineraries with our free AI trip planner.
          </p>
          <button className="cursor-pointer font-semibold text-white rounded-2xl md:border-0 md:px-10 md:py-3 px-6 py-3 md:text-xl text-xs bg-blue-500 hover:bg-blue-400 duration-200">
            Create a New Trip
          </button>
        </div>

      </div>
    </div>
  );
}

export default Hero;
